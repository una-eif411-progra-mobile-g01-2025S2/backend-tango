app.jwt.secret=VGVzdFNlY3JldEtleUZvclBBSS0xMjM0NTY3ODkwMTIzNDU2Nzg5MDE=
app.jwt.issuer=PAI Backend
app.jwt.access-token-ttl=PT15M
app.jwt.refresh-token-ttl=P7D

spring.application.name=PAI Backend

# Datasource - PostgreSQL (pgAdmin)
# En producci?n (Render), estas variables se sobrescriben con variables de entorno
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/backend_tango_db}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:cdcd1903}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.postgresql.Driver}

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HBM2DDL:update}
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=${SPRING_JPA_DIALECT:org.hibernate.dialect.PostgreSQLDialect}

# Flyway (desactivado por defecto en local)
spring.flyway.enabled=false
spring.flyway.locations=classpath:db/migration/postgres
spring.flyway.schemas=public
spring.flyway.create-schemas=true

# Actuator
management.endpoints.web.exposure.include=health,info
management.endpoints.web.base-path=/actuator

# OpenRouter (IA) - DeepSeek R1 Free
openrouter.api.key=${OPENROUTER_API_KEY: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}
openrouter.api.url=https://openrouter.ai/api/v1/chat/completions
openrouter.model=tngtech/deepseek-r1t2-chimera:free
# Modelos de respaldo (fallback) en orden de prioridad
openrouter.fallback.models=google/gemini-2.0-flash-exp:free,meta-llama/llama-3.2-3b-instruct:free,mistralai/mistral-7b-instruct:free

# Render asigna el puerto a trav?s de la variable PORT
server.port=${PORT:8080}
server.address=0.0.0.0

# URLs de endpoints p?blicos
url.user.signup=${URL_USER_SIGNUP:/api/v1/users/signup}

# Or?genes permitidos para CORS (separados por coma)
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}
spring.web.cors.allowed-origins=${cors.allowed-origins}

# URL base p?blica del backend (para cabeceras informativas)
app.base-url=${APP_BASE_URL:http://localhost:8080}

# Configuraci?n de rutas p?blicas y endpoints API
api.base-path=${API_BASE_PATH:/api/v1}
api.endpoints.ping=${API_ENDPOINTS_PING:${api.base-path}/ping}
api.endpoints.users=${API_ENDPOINTS_USERS:${api.base-path}/users}
api.endpoints.tasks=${API_ENDPOINTS_TASKS:${api.base-path}/tasks}
api.endpoints.subjects=${API_ENDPOINTS_SUBJECTS:${api.base-path}/subjects}
api.endpoints.periods=${API_ENDPOINTS_PERIODS:${api.base-path}/periods}
api.endpoints.study-blocks=${API_ENDPOINTS_STUDY_BLOCKS:${api.base-path}/study-blocks}
api.endpoints.roles=${API_ENDPOINTS_ROLES:${api.base-path}/roles}
api.endpoints.calendar=${API_ENDPOINTS_CALENDAR:${api.base-path}/calendar}
api.endpoints.auth=${API_ENDPOINTS_AUTH:${api.base-path}/auth}

